{% extends 'base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block body %}
<div class="row g-4">
    <div class="col-md-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title">Kurse</h5>
                <p class="display-6 mb-0">{{ courses|length }}</p>
                <a href="{{ path('course_index') }}" class="btn btn-primary btn-sm mt-2">Alle Kurse</a>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title">Lektionen</h5>
                <p class="display-6 mb-0">{{ lessons|length }}</p>
                <a href="{{ path('lesson_index') }}" class="btn btn-primary btn-sm mt-2">Alle Lektionen</a>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title">Fortschritt</h5>
                <p class="display-6 mb-0">{{ progress|length }}</p>
                <small class="text-muted">Einträge insgesamt</small>
            </div>
        </div>
    </div>
</div>

<h2 class="h4 mt-5 mb-3">Neueste Lektionen</h2>
<div class="list-group">
    {% for lesson in lessons %}
        <a class="list-group-item list-group-item-action" href="{{ path('lesson_show', {id: lesson.id}) }}">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <div class="fw-bold">{{ lesson.title }}</div>
                    <small class="text-muted">{{ lesson.course.title ?? 'Kein Kurs' }}</small>
                </div>
                <span class="badge bg-primary">{{ lesson.exercises|length }} Übungen</span>
            </div>
        </a>
    {% else %}
        <div class="alert alert-info">Noch keine Lektionen vorhanden.</div>
    {% endfor %}
</div>
{% endblock %}
